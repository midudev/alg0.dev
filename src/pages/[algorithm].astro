---
import Layout from "@layouts/Layout.astro"
import AlgoViz from "@components/AlgoViz"
import { algorithms } from "@lib/algorithms"
import { getAlgorithmMetaTitle, getAlgorithmMetaDescription } from "@i18n/translations"
import type { GetStaticPaths } from "astro"

export const getStaticPaths: GetStaticPaths = () => {
  return algorithms.map((algo) => ({
    params: { algorithm: algo.id },
  }))
}

const { algorithm } = Astro.params as { algorithm: string }
const algo = algorithms.find((a) => a.id === algorithm)!

const title = getAlgorithmMetaTitle("en", algo.id, algo.name)
const description = getAlgorithmMetaDescription("en", algo.id)
---

<Layout locale="en" title={title} description={description}>
  <AlgoViz locale="en" initialAlgorithmId={algorithm} client:load />
</Layout>
